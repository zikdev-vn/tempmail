{"ast":null,"code":"var _jsxFileName = \"/home/zik/my-ts/src/features/Temp/Tempmail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, Suspense } from 'react';\nimport axios from 'axios';\nimport TrashIcon from '../../components/icons/TrashIcon';\nimport CopyIcon from '../../components//icons/CopyIcon';\nimport ArrowUpOn from '../../components/icons/ArrowUpOn';\nimport LoadingV2 from '../../components/icons/loadingV2';\nimport Button from \"../../components/Button/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TempMail = () => {\n  _s();\n  const [tempEmail, setTempEmail] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [selectedMessage, setSelectedMessage] = useState(null); // ‚úÖ khai b√°o bi·∫øn n√†y\n  const [showEmailEffect, setShowEmailEffect] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [emailHistory, setEmailHistory] = useState([]);\n  const [remainingTime, setRemainingTime] = useState(0);\n  const copyEmailToClipboard = () => {\n    navigator.clipboard.writeText(tempEmail);\n    alert('Email ƒë√£ ƒë∆∞·ª£c sao ch√©p!');\n  };\n  const handleEmailEffectRest = () => {\n    setShowEmailEffect(false);\n  };\n  const createEmail = async () => {\n    try {\n      setLoading(true);\n      setSelectedMessage(null);\n      const res = await axios.post(\"http://localhost:8000/api/createmail\");\n      const email = res.data.data.name; // <-- L·∫•y ƒë√∫ng `email`\n      const createdAt = Date.now();\n      setTempEmail(email);\n      localStorage.setItem(\"currentTempEmail\", email);\n      localStorage.setItem(\"currentTempEmailCreatedAt\", createdAt);\n      setMessages([]);\n      setShowEmailEffect(true);\n      setLoading(false);\n      const oldEmails = JSON.parse(localStorage.getItem(\"emailHistory\")) || [];\n      const updatedEmails = [email, ...oldEmails.filter(e => e !== email)].slice(0, 20);\n      localStorage.setItem(\"emailHistory\", JSON.stringify(updatedEmails));\n      setEmailHistory(updatedEmails);\n    } catch (err) {\n      console.error(\"L·ªói t·∫°o email:\", err);\n      alert(\"Kh√¥ng th·ªÉ t·∫°o email.\");\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    const savedEmail = localStorage.getItem(\"currentTempEmail\");\n    const createdAt = localStorage.getItem(\"currentTempEmailCreatedAt\");\n    const now = Date.now();\n    if (savedEmail && createdAt) {\n      const age = now - parseInt(createdAt, 10);\n      if (age < 10 * 60 * 1000) {\n        setTempEmail(savedEmail);\n      } else {\n        localStorage.removeItem(\"currentTempEmail\");\n        localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      }\n    }\n    const savedEmails = JSON.parse(localStorage.getItem(\"emailHistory\")) || [];\n    setEmailHistory(savedEmails);\n  }, []);\n  useEffect(() => {\n    if (!tempEmail) return;\n    const createdAt = parseInt(localStorage.getItem(\"currentTempEmailCreatedAt\") || \"0\", 10);\n    const now = Date.now();\n    const maxLife = 10 * 60 * 1000; // 10 ph√∫t\n    const timeLeft = maxLife - (now - createdAt);\n    if (timeLeft <= 0) {\n      alert(\"Email t·∫°m th·ªùi ƒë√£ h·∫øt h·∫°n!\");\n      localStorage.removeItem(\"currentTempEmail\");\n      localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      setTempEmail(null);\n      return;\n    }\n    setRemainingTime(timeLeft);\n    let mailIntervalId;\n    let countdownIntervalId;\n    const startMailFetching = () => {\n      if (!mailIntervalId) {\n        mailIntervalId = setInterval(async () => {\n          try {\n            const mailRes = await axios.get(`http://localhost:8000/api/getmail/${tempEmail}?limit=50`);\n            setMessages(mailRes.data.data.inbox);\n          } catch (err) {\n            console.error(\"L·ªói khi l·∫•y email:\", err);\n          }\n        }, 5000);\n      }\n    };\n    const stopMailFetching = () => {\n      if (mailIntervalId) {\n        clearInterval(mailIntervalId);\n        mailIntervalId = null;\n      }\n    };\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        startMailFetching();\n      } else {\n        stopMailFetching();\n      }\n    };\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    if (document.visibilityState === \"visible\") {\n      startMailFetching();\n    }\n    const timeoutId = setTimeout(() => {\n      stopMailFetching();\n      alert(\"Email t·∫°m th·ªùi ƒë√£ h·∫øt h·∫°n!\");\n      setTempEmail(null);\n      localStorage.removeItem(\"currentTempEmail\");\n      localStorage.removeItem(\"currentTempEmailCreatedAt\");\n    }, timeLeft);\n    countdownIntervalId = setInterval(() => {\n      setRemainingTime(prev => {\n        if (prev <= 1000) {\n          clearInterval(countdownIntervalId);\n          return 0;\n        }\n        return prev - 1000;\n      });\n    }, 1000);\n    return () => {\n      stopMailFetching();\n      clearTimeout(timeoutId);\n      clearInterval(countdownIntervalId);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n  }, [tempEmail]);\n  const handleDeleteEmail = async emailToDelete => {\n    const confirmDelete = window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a email ${emailToDelete}?`);\n    if (!confirmDelete) return;\n    try {\n      const response = await axios.delete(`http://localhost:8000/api/deletemail/${emailToDelete}`);\n      alert(response.data.message);\n\n      // N·∫øu email ƒëang xem b·ªã x√≥a, clear n√≥ ra kh·ªèi state\n      if (emailToDelete === tempEmail) {\n        setTempEmail(null);\n        setMessages([]);\n        localStorage.removeItem(\"currentTempEmail\");\n        localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      }\n\n      // C·∫≠p nh·∫≠t l·∫°i l·ªãch s·ª≠ email (x√≥a email kh·ªèi localStorage v√† state)\n      const updatedHistory = emailHistory.filter(e => e !== emailToDelete);\n      localStorage.setItem(\"emailHistory\", JSON.stringify(updatedHistory));\n      setEmailHistory(updatedHistory);\n    } catch (err) {\n      console.error(\"L·ªói khi x√≥a email:\", err);\n      alert(\"X√≥a email th·∫•t b·∫°i!\");\n    }\n  };\n  const formatTime = ms => {\n    const totalSeconds = Math.floor(ms / 1000);\n    const minutes = String(Math.floor(totalSeconds / 60)).padStart(2, '0');\n    const seconds = String(totalSeconds % 60).padStart(2, '0');\n    return `${minutes}:${seconds}`;\n  };\n  const handleExtendEmail = email => {\n    const now = Date.now();\n    localStorage.setItem(\"currentTempEmail\", email);\n    localStorage.setItem(\"currentTempEmailCreatedAt\", now.toString());\n    setTempEmail(email);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative z-20 bg-gray-100 text-gray-700 flex flex-col lg:flex-row w-full max-w-full mx-auto mt-3 gap-4 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative flex flex-col justify-center w-full h-screen font-sans bg-gray-100 overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-20 m-5 rounded-lg max-w-3xl bg-white shadow-xl border border-gray-300 overflow-y-auto h-full max-h-[calc(100vh-40px)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-center mb-6\",\n          children: \"TempMail zikdev.io.vn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }, this), tempEmail && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"remaining-time text-gray-800 text-center\",\n          children: [\"\\u23F0 Email h\\u1EBFt h\\u1EA1n sau: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: formatTime(remainingTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 border border-gray-300 rounded-md bg-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2\",\n            children: \"\\u0110\\u1ECBa ch\\u1EC9 email t\\u1EA1m th\\u1EDDi c\\u1EE7a b\\u1EA1n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center bg-gray-200 p-3 rounded-md\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"break-all\",\n              children: tempEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: copyEmailToClipboard,\n              className: \"ml-4 bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-sm font-semibold hover:bg-gray-400 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(CopyIcon, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center p-3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: createEmail,\n              className: \"mt-4 justify-center w-full bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-base font-semibold hover:bg-gray-400 transition-colors\",\n              children: \"T\\u1EA1o email m\\u1EDBi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 p-4 border border-gray-300 rounded-md bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4 text-center\",\n              children: \"Email \\u0111\\xE3 t\\u1EA1o g\\u1EA7n \\u0111\\xE2y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 13\n            }, this), emailHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-center text-gray-500\",\n              children: \"Ch\\u01B0a c\\xF3 email n\\xE0o \\u0111\\u01B0\\u1EE3c t\\u1EA1o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-none p-0 max-h-48 overflow-y-auto space-y-2\",\n              children: emailHistory.map((email, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"bg-gray-200 p-3 rounded-md flex justify-between items-center hover:bg-gray-300 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => setTempEmail(email),\n                  className: \"cursor-pointer hover:underline\",\n                  children: email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TrashIcon, {\n                  onClick: () => handleDeleteEmail(email),\n                  width: 24,\n                  height: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 border border-gray-300 rounded-md bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-4 text-center\",\n            children: \"H\\u1ED9p Th\\u01B0 \\u0110\\u1EBFn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 11\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center text-gray-500\",\n            children: /*#__PURE__*/_jsxDEV(LoadingV2, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this) : !tempEmail ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500\",\n            children: \"Nh\\u1EA5n \\\"T\\u1EA1o email m\\u1EDBi\\\" \\u0111\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this) : messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center text-gray-500\",\n            children: \"Kh\\xF4ng c\\xF3 tin nh\\u1EAFn n\\xE0o. \\u0110ang ch\\u1EDD email...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-none p-0\",\n            children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => setSelectedMessage(msg),\n              className: \"bg-gray-100 mb-2 p-3 rounded-md cursor-pointer hover:bg-gray-200 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                className: \"text-lg\",\n                children: msg.subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block text-gray-600 text-sm\",\n                children: [\"T\\u1EEB: \", msg.from]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"block text-gray-500 text-xs mt-1\",\n                children: new Date(msg.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 9\n        }, this), selectedMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border border-gray-300 rounded-md bg-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-4 text-center\",\n            children: \"Chi Ti\\u1EBFt Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-gray-800\",\n              children: \"T\\u1EEB:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), \" \", selectedMessage.from]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-4 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              className: \"text-gray-800\",\n              children: \"Ch\\u1EE7 \\u0111\\u1EC1:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), \" \", selectedMessage.subject]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-800 text-sm mb-2\",\n            children: \"N\\u1ED9i dung:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), selectedMessage.html ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-3 rounded-md max-h-60 overflow-y-auto text-gray-700\",\n            dangerouslySetInnerHTML: {\n              __html: selectedMessage.html\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bg-white p-3 rounded-md max-h-60 overflow-y-auto text-gray-700 whitespace-pre-wrap text-sm\",\n            children: selectedMessage.body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSelectedMessage(null),\n            className: \"flex justify-center items-center bg-gray-300 w-full mt-4 hover:bg-gray-400 transition-colors py-2 rounded\",\n            children: /*#__PURE__*/_jsxDEV(ArrowUpOn, {\n              width: 24,\n              height: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full lg:w-[40%] bg-white rounded-lg p-4 border border-gray-300 shadow-xl overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4 text-center\",\n        children: \"Th\\xF4ng tin Server\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-2 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDFE2 Tr\\u1EA1ng th\\xE1i:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), \" \\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83C\\uDF10 IP:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), \" temp.zikdev.io\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDD52 Uptime:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), \" 12 ng\\xE0y 5 gi\\u1EDD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCE6 B\\u1ED9 nh\\u1EDB:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), \" Loading...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCE8 Email x\\u1EED l\\xFD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), \" \", emailHistory.length, \" email\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 3\n  }, this);\n};\n_s(TempMail, \"NoBytEO2fiJBzrmsFbWaUasPnIc=\");\n_c = TempMail;\nexport default TempMail;\nvar _c;\n$RefreshReg$(_c, \"TempMail\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Suspense","axios","TrashIcon","CopyIcon","ArrowUpOn","LoadingV2","Button","jsxDEV","_jsxDEV","TempMail","_s","tempEmail","setTempEmail","password","setPassword","messages","setMessages","selectedMessage","setSelectedMessage","showEmailEffect","setShowEmailEffect","loading","setLoading","emailHistory","setEmailHistory","remainingTime","setRemainingTime","copyEmailToClipboard","navigator","clipboard","writeText","alert","handleEmailEffectRest","createEmail","res","post","email","data","name","createdAt","Date","now","localStorage","setItem","oldEmails","JSON","parse","getItem","updatedEmails","filter","e","slice","stringify","err","console","error","savedEmail","age","parseInt","removeItem","savedEmails","maxLife","timeLeft","mailIntervalId","countdownIntervalId","startMailFetching","setInterval","mailRes","get","inbox","stopMailFetching","clearInterval","handleVisibilityChange","document","visibilityState","addEventListener","timeoutId","setTimeout","prev","clearTimeout","removeEventListener","handleDeleteEmail","emailToDelete","confirmDelete","window","confirm","response","delete","message","updatedHistory","formatTime","ms","totalSeconds","Math","floor","minutes","String","padStart","seconds","handleExtendEmail","toString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","length","map","index","width","height","msg","subject","from","timestamp","toLocaleString","html","dangerouslySetInnerHTML","__html","body","_c","$RefreshReg$"],"sources":["/home/zik/my-ts/src/features/Temp/Tempmail.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, Suspense } from 'react';\n\nimport axios from 'axios';\nimport TrashIcon from '../../components/icons/TrashIcon';\nimport CopyIcon from '../../components//icons/CopyIcon';\nimport ArrowUpOn from '../../components/icons/ArrowUpOn';\nimport LoadingV2 from '../../components/icons/loadingV2';\nimport Button from \"../../components/Button/Button\"\n\n\n\nconst TempMail = () => {\n  const [tempEmail, setTempEmail] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [selectedMessage, setSelectedMessage] = useState(null); // ‚úÖ khai b√°o bi·∫øn n√†y\n  const [showEmailEffect, setShowEmailEffect] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [emailHistory, setEmailHistory] = useState([]);\n  const [remainingTime, setRemainingTime] = useState(0);\n\n\n  const copyEmailToClipboard = () => {\n    navigator.clipboard.writeText(tempEmail);\n    alert('Email ƒë√£ ƒë∆∞·ª£c sao ch√©p!');\n  };\n\n  const handleEmailEffectRest = () => {\n    setShowEmailEffect(false);\n  };\n\n  const createEmail = async () => {\n  try {\n    setLoading(true);\n    setSelectedMessage(null);\n    \n    const res = await axios.post(\"http://localhost:8000/api/createmail\");\n\n    const email = res.data.data.name;  // <-- L·∫•y ƒë√∫ng `email`\n    const createdAt = Date.now();\n\n    setTempEmail(email);\n    localStorage.setItem(\"currentTempEmail\", email);\n    localStorage.setItem(\"currentTempEmailCreatedAt\", createdAt);\n\n    setMessages([]);\n    setShowEmailEffect(true);\n    setLoading(false);\n\n    const oldEmails = JSON.parse(localStorage.getItem(\"emailHistory\")) || [];\n    const updatedEmails = [email, ...oldEmails.filter(e => e !== email)].slice(0, 20);\n    localStorage.setItem(\"emailHistory\", JSON.stringify(updatedEmails));\n    setEmailHistory(updatedEmails);\n  } catch (err) {\n    console.error(\"L·ªói t·∫°o email:\", err);\n    alert(\"Kh√¥ng th·ªÉ t·∫°o email.\");\n    setLoading(false);\n  }\n};\n\n  useEffect(() => {\n    const savedEmail = localStorage.getItem(\"currentTempEmail\");\n    const createdAt = localStorage.getItem(\"currentTempEmailCreatedAt\");\n    const now = Date.now();\n\n    if (savedEmail && createdAt) {\n      const age = now - parseInt(createdAt, 10);\n      if (age < 10 * 60 * 1000) {\n        setTempEmail(savedEmail);\n      } else {\n        localStorage.removeItem(\"currentTempEmail\");\n        localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      }\n    }\n\n    const savedEmails = JSON.parse(localStorage.getItem(\"emailHistory\")) || [];\n    setEmailHistory(savedEmails);\n  }, []);\n\n\n  useEffect(() => {\n    if (!tempEmail) return;\n\n    const createdAt = parseInt(localStorage.getItem(\"currentTempEmailCreatedAt\") || \"0\", 10);\n    const now = Date.now();\n    const maxLife = 10 * 60 * 1000; // 10 ph√∫t\n    const timeLeft = maxLife - (now - createdAt);\n\n    if (timeLeft <= 0) {\n      alert(\"Email t·∫°m th·ªùi ƒë√£ h·∫øt h·∫°n!\");\n      localStorage.removeItem(\"currentTempEmail\");\n      localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      setTempEmail(null);\n      return;\n    }\n\n    setRemainingTime(timeLeft);\n\n    let mailIntervalId;\n    let countdownIntervalId;\n\n    const startMailFetching = () => {\n      if (!mailIntervalId) {\n        mailIntervalId = setInterval(async () => {\n          try {\n            const mailRes = await axios.get(`http://localhost:8000/api/getmail/${tempEmail}?limit=50`);\n            setMessages(mailRes.data.data.inbox);\n\n          } catch (err) {\n            console.error(\"L·ªói khi l·∫•y email:\", err);\n          }\n        }, 5000);\n      }\n    };\n\n    const stopMailFetching = () => {\n      if (mailIntervalId) {\n        clearInterval(mailIntervalId);\n        mailIntervalId = null;\n      }\n    };\n\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === \"visible\") {\n        startMailFetching();\n      } else {\n        stopMailFetching();\n      }\n    };\n\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n\n    if (document.visibilityState === \"visible\") {\n      startMailFetching();\n    }\n\n    const timeoutId = setTimeout(() => {\n      stopMailFetching();\n      alert(\"Email t·∫°m th·ªùi ƒë√£ h·∫øt h·∫°n!\");\n      setTempEmail(null);\n      localStorage.removeItem(\"currentTempEmail\");\n      localStorage.removeItem(\"currentTempEmailCreatedAt\");\n    }, timeLeft);\n\n    countdownIntervalId = setInterval(() => {\n      setRemainingTime(prev => {\n        if (prev <= 1000) {\n          clearInterval(countdownIntervalId);\n          return 0;\n        }\n        return prev - 1000;\n      });\n    }, 1000);\n\n    return () => {\n      stopMailFetching();\n      clearTimeout(timeoutId);\n      clearInterval(countdownIntervalId);\n      document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n  }, [tempEmail]);\n\n  \n  const handleDeleteEmail = async (emailToDelete) => {\n    const confirmDelete = window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a email ${emailToDelete}?`);\n    if (!confirmDelete) return;\n  \n    try {\n      const response = await axios.delete(`http://localhost:8000/api/deletemail/${emailToDelete}`);\n      alert(response.data.message);\n  \n      // N·∫øu email ƒëang xem b·ªã x√≥a, clear n√≥ ra kh·ªèi state\n      if (emailToDelete === tempEmail) {\n        setTempEmail(null);\n        setMessages([]);\n        localStorage.removeItem(\"currentTempEmail\");\n        localStorage.removeItem(\"currentTempEmailCreatedAt\");\n      }\n  \n      // C·∫≠p nh·∫≠t l·∫°i l·ªãch s·ª≠ email (x√≥a email kh·ªèi localStorage v√† state)\n      const updatedHistory = emailHistory.filter((e) => e !== emailToDelete);\n      localStorage.setItem(\"emailHistory\", JSON.stringify(updatedHistory));\n      setEmailHistory(updatedHistory);\n    } catch (err) {\n      console.error(\"L·ªói khi x√≥a email:\", err);\n      alert(\"X√≥a email th·∫•t b·∫°i!\");\n    }\n  };\n    \n\n  const formatTime = (ms) => {\n    const totalSeconds = Math.floor(ms / 1000);\n    const minutes = String(Math.floor(totalSeconds / 60)).padStart(2, '0');\n    const seconds = String(totalSeconds % 60).padStart(2, '0');\n    return `${minutes}:${seconds}`;\n  };\n\nconst handleExtendEmail = (email) => {\n  const now = Date.now();\n  localStorage.setItem(\"currentTempEmail\", email);\n  localStorage.setItem(\"currentTempEmailCreatedAt\", now.toString());\n  setTempEmail(email);\n};\n  return (\n    \n  <div className=\"relative z-20 bg-gray-100 text-gray-700 flex flex-col lg:flex-row w-full max-w-full mx-auto mt-3 gap-4 overflow-hidden\">\n    <div className=\"relative flex flex-col justify-center w-full h-screen font-sans bg-gray-100 overflow-hidden\">\n      <div className=\"relative z-20 m-5 rounded-lg max-w-3xl bg-white shadow-xl border border-gray-300 overflow-y-auto h-full max-h-[calc(100vh-40px)]\">\n        <h1 className=\"text-3xl font-bold text-center mb-6\">\n          TempMail zikdev.io.vn\n        </h1>\n        {tempEmail && (\n          <div className=\"remaining-time text-gray-800 text-center\">\n            ‚è∞ Email h·∫øt h·∫°n sau: <strong>{formatTime(remainingTime)}</strong>\n          </div>\n        )}\n\n        <div className=\"mb-6 p-4 border border-gray-300 rounded-md bg-gray-100\">\n          <p className=\"mb-2\">ƒê·ªãa ch·ªâ email t·∫°m th·ªùi c·ªßa b·∫°n:</p>\n          <div className=\"flex justify-between items-center bg-gray-200 p-3 rounded-md\">\n            <strong className=\"break-all\">{tempEmail}</strong>\n            <button\n              onClick={copyEmailToClipboard}\n              className=\"ml-4 bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-sm font-semibold hover:bg-gray-400 transition-colors\"\n            >\n              <CopyIcon size={18} />\n            </button>\n          </div>\n          <div className=\"flex items-center justify-center p-3\">\n            <Button\n              onClick={createEmail}\n              className=\"mt-4 justify-center w-full bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-base font-semibold hover:bg-gray-400 transition-colors\"\n            >\n              T·∫°o email m·ªõi\n            </Button>\n          </div>\n\n          <div className=\"mb-6 p-4 border border-gray-300 rounded-md bg-white\">\n            <h2 className=\"text-xl font-bold mb-4 text-center\">\n              Email ƒë√£ t·∫°o g·∫ßn ƒë√¢y\n            </h2>\n\n            {emailHistory.length === 0 ? (\n              <p className=\"text-center text-gray-500\">Ch∆∞a c√≥ email n√†o ƒë∆∞·ª£c t·∫°o.</p>\n            ) : (\n              <ul className=\"list-none p-0 max-h-48 overflow-y-auto space-y-2\">\n                {emailHistory.map((email, index) => (\n                  <li\n                    key={index}\n                    className=\"bg-gray-200 p-3 rounded-md flex justify-between items-center hover:bg-gray-300 transition-colors\"\n                  >\n                    <span\n                      onClick={() => setTempEmail(email)}\n                      className=\"cursor-pointer hover:underline\"\n                    >\n                      {email}\n                    </span>\n                    <TrashIcon\n                      onClick={() => handleDeleteEmail(email)}\n                      width={24}\n                      height={24}\n                    />\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n\n        <div className=\"mb-6 p-4 border border-gray-300 rounded-md bg-white\">\n          <h2 className=\"text-2xl font-bold mb-4 text-center\">\n            H·ªôp Th∆∞ ƒê·∫øn\n          </h2>\n          {loading ? (\n            <div className=\"flex justify-center items-center text-gray-500\">\n              <LoadingV2 size={24} />\n            </div>\n          ) : !tempEmail ? (\n            <p className=\"text-center text-gray-500\">Nh·∫•n \"T·∫°o email m·ªõi\" ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>\n          ) : messages.length === 0 ? (\n            <p className=\"text-center text-gray-500\">Kh√¥ng c√≥ tin nh·∫Øn n√†o. ƒêang ch·ªù email...</p>\n          ) : (\n            <ul className=\"list-none p-0\">\n              {messages.map((msg, index) => (\n                <li\n                  key={index}\n                  onClick={() => setSelectedMessage(msg)}\n                  className=\"bg-gray-100 mb-2 p-3 rounded-md cursor-pointer hover:bg-gray-200 transition-colors\"\n                >\n                  <strong className=\"text-lg\">{msg.subject}</strong>\n                  <span className=\"block text-gray-600 text-sm\">T·ª´: {msg.from}</span>\n                  <small className=\"block text-gray-500 text-xs mt-1\">\n                    {new Date(msg.timestamp).toLocaleString()}\n                  </small>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        {selectedMessage && (\n          <div className=\"p-4 border border-gray-300 rounded-md bg-gray-100\">\n            <h2 className=\"text-2xl font-bold mb-4 text-center\">\n              Chi Ti·∫øt Email\n            </h2>\n            <p className=\"mb-2 text-sm\">\n              <strong className=\"text-gray-800\">T·ª´:</strong> {selectedMessage.from}\n            </p>\n            <p className=\"mb-4 text-sm\">\n              <strong className=\"text-gray-800\">Ch·ªß ƒë·ªÅ:</strong> {selectedMessage.subject}\n            </p>\n            <p className=\"font-semibold text-gray-800 text-sm mb-2\">N·ªôi dung:</p>\n            {selectedMessage.html ? (\n              <div\n                className=\"bg-white p-3 rounded-md max-h-60 overflow-y-auto text-gray-700\"\n                dangerouslySetInnerHTML={{ __html: selectedMessage.html }}\n              />\n            ) : (\n              <p className=\"bg-white p-3 rounded-md max-h-60 overflow-y-auto text-gray-700 whitespace-pre-wrap text-sm\">\n                {selectedMessage.body}\n              </p>\n            )}\n            <button\n              onClick={() => setSelectedMessage(null)}\n              className=\"flex justify-center items-center bg-gray-300 w-full mt-4 hover:bg-gray-400 transition-colors py-2 rounded\"\n            >\n              <ArrowUpOn width={24} height={24} />\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n\n    <div className=\"w-full lg:w-[40%] bg-white rounded-lg p-4 border border-gray-300 shadow-xl overflow-y-auto\">\n      <h2 className=\"text-xl font-bold mb-4 text-center\">Th√¥ng tin Server</h2>\n      <ul className=\"space-y-2 text-sm\">\n        <li><strong>üü¢ Tr·∫°ng th√°i:</strong> ƒêang ho·∫°t ƒë·ªông</li>\n        <li><strong>üåê IP:</strong> temp.zikdev.io</li>\n        <li><strong>üïí Uptime:</strong> 12 ng√†y 5 gi·ªù</li>\n        <li><strong>üì¶ B·ªô nh·ªõ:</strong> Loading...</li>\n        <li><strong>üì® Email x·ª≠ l√Ω:</strong> {emailHistory.length} email</li>\n      </ul>\n    </div>\n  </div>\n);\n\n};\n\nexport default TempMail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}